{"version":3,"file":"ngu-carousel.umd.js","sources":["../../../../projects/ngu-carousel/src/lib/ngu-carousel/ngu-carousel.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../projects/ngu-carousel/src/lib/ngu-carousel.directive.ts","../../../../projects/ngu-carousel/src/lib/ngu-carousel/ngu-carousel.component.ts","../../../../projects/ngu-carousel/src/lib/ngu-item/ngu-item.component.ts","../../../../projects/ngu-carousel/src/lib/ngu-tile/ngu-tile.component.ts","../../../../projects/ngu-carousel/src/lib/ngu-carousel.module.ts","../../../../projects/ngu-carousel/src/public-api.ts","../../../../projects/ngu-carousel/src/ngu-carousel.ts"],"sourcesContent":["export class NguCarouselStore {\n  constructor(\n    public touch = new Touch(),\n    public vertical = new Vertical(),\n    public interval?: CarouselInterval,\n    public transform = new Transfrom(),\n    public button?: NguButton,\n    public visibleItems?: ItemsControl,\n    public deviceType?: DeviceType,\n    public type = 'fixed',\n    public token = '',\n    public items = 0,\n    public load = 0,\n    public deviceWidth = 0,\n    public carouselWidth = 0,\n    public itemWidth = 0,\n    public slideItems = 0,\n    public itemWidthPer = 0,\n    public itemLength = 0,\n    public currentSlide = 0,\n    public easing = 'cubic-bezier(0, 0, 0.2, 1)',\n    public speed = 200,\n    public loop = false,\n    public dexVal = 0,\n    public touchTransform = 0,\n    public isEnd = false,\n    public isFirst = true,\n    public isLast = false,\n    public RTL = false,\n    public point = true,\n    public velocity = 1\n  ) {}\n}\nexport type DeviceType = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | 'all';\n\nexport type ButtonVisible = 'disabled' | 'hide';\n\nexport class ItemsControl {\n  start: number;\n  end: number;\n}\n\nexport class Vertical {\n  enabled: boolean;\n  height: number;\n  // numHeight?: number;\n}\n\nexport class NguButton {\n  visibility?: ButtonVisible;\n  elastic?: number;\n}\n\nexport class Touch {\n  active?: boolean;\n  swipe: string;\n  velocity: number;\n}\n\n// Interface is declared to prevent property-minification\n// See: https://github.com/uiuniversal/ngu-carousel/issues/322\ndeclare interface TransformInterface {\n  xs: number;\n  sm: number;\n  md: number;\n  lg: number;\n  xl?: number;\n  all: number;\n}\n\nexport class Transfrom implements TransformInterface {\n  public xl? = 0;\n  constructor(public xs = 0, public sm = 0, public md = 0, public lg = 0, public all = 0) {}\n}\n\n// Interface is declared to prevent property-minification\n// See: https://github.com/uiuniversal/ngu-carousel/issues/322\ndeclare interface BreakpointsInterface {\n  sm: number;\n  md: number;\n  lg: number;\n  xl: number;\n}\n\n/**\n * Default values\n * {sm: 768, md: 992, lg: 1200, xl: 1200}\n *\n * Bootstrap values:\n * {sm: 576, md: 768, lg: 992, xl: 1200}\n */\nexport class Breakpoints implements BreakpointsInterface {\n  constructor(public sm = 768, public md = 992, public lg = 1200, public xl = 1200) {}\n}\n\nexport class NguCarouselConfig {\n  grid: Transfrom;\n  gridBreakpoints?: Breakpoints;\n  slide?: number;\n  speed?: number;\n  interval?: CarouselInterval;\n  animation?: Animate;\n  point?: Point;\n  type?: string;\n  load?: number;\n  custom?: Custom;\n  loop?: boolean;\n  touch?: boolean;\n  easing?: string;\n  RTL?: boolean;\n  button?: NguButton;\n  vertical?: Vertical;\n  velocity?: number;\n}\n\nexport type Custom = 'banner';\nexport type Animate = 'lazy';\n\nexport interface Point {\n  visible: boolean;\n  hideOnSingleSlide?: boolean;\n}\n\nexport interface Animation {\n  type?: Animate;\n  animateStyles?: AnimationStyles;\n}\n\nexport interface AnimationStyles {\n  style?: string;\n  open?: string;\n  close?: string;\n  stagger?: number;\n}\n\nexport interface CarouselInterval {\n  timing: number;\n  initialDelay?: number;\n}\n\nexport class NguCarouselOutletContext<T> {\n  /** Data for the node. */\n  $implicit: T;\n\n  /** Depth of the node. */\n  level: number;\n\n  /** Index location of the node. */\n  index?: number;\n\n  /** Length of the number of total dataNodes. */\n  count?: number;\n\n  constructor(data: T) {\n    this.$implicit = data;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Directive, TemplateRef, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[NguCarouselItem]'\n})\nexport class NguCarouselItemDirective {}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[NguCarouselNext]'\n})\nexport class NguCarouselNextDirective {\n  // @HostBinding('disabled') disabled: boolean;\n  // @HostBinding('style.display') display = 'block';\n  // @HostListener('click')\n  // onClick() {\n  // }\n}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[NguCarouselPrev]'\n})\nexport class NguCarouselPrevDirective {\n  // @HostBinding('disabled') disabled: boolean;\n  // @HostBinding('style.display') display = 'block';\n}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[NguCarouselPoint]'\n})\nexport class NguCarouselPointDirective {}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[nguCarouselDef]'\n})\nexport class NguCarouselDefDirective<T> {\n  when: (index: number, nodeData: T) => boolean;\n\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[nguCarouselOutlet]'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NguCarouselOutlet {\n  constructor(public viewContainer: ViewContainerRef) {}\n}\n","import { isPlatformBrowser } from '@angular/common';\n\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  isDevMode,\n  IterableChangeRecord,\n  IterableChanges,\n  IterableDiffer,\n  IterableDiffers,\n  OnDestroy,\n  OnInit,\n  Output,\n  PLATFORM_ID,\n  QueryList,\n  Renderer2,\n  TrackByFunction,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { EMPTY, fromEvent, interval, merge, Observable, of, Subject, Subscription } from 'rxjs';\nimport { mapTo, startWith, switchMap, takeUntil } from 'rxjs/operators';\nimport {\n  NguCarouselDefDirective,\n  NguCarouselNextDirective,\n  NguCarouselOutlet,\n  NguCarouselPrevDirective\n} from './../ngu-carousel.directive';\nimport { Breakpoints, NguCarouselConfig, NguCarouselOutletContext, NguCarouselStore } from './ngu-carousel';\n\n// @dynamic\n@Component({\n  selector: 'ngu-carousel',\n  templateUrl: 'ngu-carousel.component.html',\n  styleUrls: ['ngu-carousel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n// @dynamic\n// tslint:disable-next-line:component-class-suffix\nexport class NguCarousel<T> extends NguCarouselStore\n  implements OnInit, AfterContentInit, AfterViewInit, OnDestroy, DoCheck {\n  _dataSubscription: Subscription;\n  _dataSource: any;\n  _dataDiffer: IterableDiffer<{}>;\n  styleid: string;\n  private directionSym: string;\n  private carouselCssNode: any;\n  private pointIndex: number;\n  private withAnim = true;\n  activePoint: number;\n  isHovered = false;\n  @Input() inputs: NguCarouselConfig;\n  @Output() carouselLoad = new EventEmitter();\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onMove = new EventEmitter<NguCarousel<T>>();\n  // isFirstss = 0;\n  arrayChanges: IterableChanges<{}>;\n  carouselInt: Subscription;\n\n  listener1: () => void;\n  listener2: () => void;\n  listener3: () => void;\n  listener4: () => void;\n\n  @Input('dataSource')\n  get dataSource(): any {\n    return this._dataSource;\n  }\n  set dataSource(data: any) {\n    if (data) {\n      this._switchDataSource(data);\n    }\n  }\n\n  private _defaultNodeDef: NguCarouselDefDirective<any> | null;\n\n  @ContentChildren(NguCarouselDefDirective)\n  private _defDirec: QueryList<NguCarouselDefDirective<any>>;\n\n  @ViewChild(NguCarouselOutlet, { static: true })\n  _nodeOutlet: NguCarouselOutlet;\n\n  /** The setter is used to catch the button if the button has ngIf\n   * issue id #91\n   */\n  @ContentChild(NguCarouselNextDirective, /* TODO: add static flag */ { read: ElementRef })\n  set nextBtn(btn: ElementRef) {\n    this.listener2 && this.listener2();\n    if (btn) {\n      this.listener2 = this._renderer.listen(btn.nativeElement, 'click', () =>\n        this._carouselScrollOne(1)\n      );\n    }\n  }\n\n  /** The setter is used to catch the button if the button has ngIf\n   * issue id #91\n   */\n  @ContentChild(NguCarouselPrevDirective, /* TODO: add static flag */ { read: ElementRef })\n  set prevBtn(btn: ElementRef) {\n    this.listener1 && this.listener1();\n    if (btn) {\n      this.listener1 = this._renderer.listen(btn.nativeElement, 'click', () =>\n        this._carouselScrollOne(0)\n      );\n    }\n  }\n\n  @ViewChild('ngucarousel', { read: ElementRef, static: true })\n  private carouselMain1: ElementRef;\n\n  @ViewChild('nguItemsContainer', { read: ElementRef, static: true })\n  private nguItemsContainer: ElementRef;\n\n  @ViewChild('touchContainer', { read: ElementRef, static: true })\n  private touchContainer: ElementRef;\n\n  private _intervalController$ = new Subject<number>();\n\n  private carousel: any;\n\n  private onResize: any;\n  private onScrolling: any;\n\n  pointNumbers: Array<any> = [];\n\n  /**\n   * Tracking function that will be used to check the differences in data changes. Used similarly\n   * to `ngFor` `trackBy` function. Optimize Items operations by identifying a Items based on its data\n   * relative to the function to know if a Items should be added/removed/moved.\n   * Accepts a function that takes two parameters, `index` and `item`.\n   */\n  @Input()\n  get trackBy(): TrackByFunction<T> {\n    return this._trackByFn;\n  }\n  set trackBy(fn: TrackByFunction<T>) {\n    if (isDevMode() && fn != null && typeof fn !== 'function' && console && console.warn) {\n      console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}.`);\n    }\n    this._trackByFn = fn;\n  }\n  private _trackByFn: TrackByFunction<T>;\n\n  constructor(\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    private _differs: IterableDiffers,\n    @Inject(PLATFORM_ID) private platformId: object,\n    private cdr: ChangeDetectorRef\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this._dataDiffer = this._differs.find([]).create((_i: number, item: any) => {\n      return this.trackBy ? this.trackBy(_i, item) : item;\n    });\n  }\n\n  ngDoCheck() {\n    this.arrayChanges = this._dataDiffer.diff(this.dataSource);\n    if (this.arrayChanges && this._defDirec) {\n      this._observeRenderChanges();\n    }\n  }\n\n  private _switchDataSource(dataSource: any): any {\n    this._dataSource = dataSource;\n    if (this._defDirec) {\n      this._observeRenderChanges();\n    }\n  }\n\n  private _observeRenderChanges() {\n    let dataStream: Observable<any[]> | undefined;\n\n    if (this._dataSource instanceof Observable) {\n      dataStream = this._dataSource;\n    } else if (Array.isArray(this._dataSource)) {\n      dataStream = of(this._dataSource);\n    }\n\n    if (dataStream) {\n      this._dataSubscription = dataStream\n        .pipe(takeUntil(this._intervalController$))\n        .subscribe(data => {\n          this.renderNodeChanges(data);\n          this.isLast = false;\n        });\n    }\n  }\n\n  private renderNodeChanges(\n    data: any[],\n    viewContainer: ViewContainerRef = this._nodeOutlet.viewContainer\n  ) {\n    if (!this.arrayChanges) return;\n\n    this.arrayChanges.forEachOperation(\n      (item: IterableChangeRecord<any>, adjustedPreviousIndex: number, currentIndex: number) => {\n        const node = this._getNodeDef(data[currentIndex], currentIndex);\n\n        if (item.previousIndex == null) {\n          const context = new NguCarouselOutletContext<any>(data[currentIndex]);\n          context.index = currentIndex;\n          viewContainer.createEmbeddedView(node.template, context, currentIndex);\n        } else if (currentIndex == null) {\n          viewContainer.remove(adjustedPreviousIndex);\n        } else {\n          const view = viewContainer.get(adjustedPreviousIndex);\n          viewContainer.move(view, currentIndex);\n        }\n      }\n    );\n    this._updateItemIndexContext();\n\n    if (this.carousel) {\n      this._storeCarouselData();\n    }\n  }\n\n  /**\n   * Updates the index-related context for each row to reflect any changes in the index of the rows,\n   * e.g. first/last/even/odd.\n   */\n  private _updateItemIndexContext() {\n    const viewContainer = this._nodeOutlet.viewContainer;\n    for (let renderIndex = 0, count = viewContainer.length; renderIndex < count; renderIndex++) {\n      const viewRef = viewContainer.get(renderIndex) as any;\n      const context = viewRef.context as any;\n      context.count = count;\n      context.first = renderIndex === 0;\n      context.last = renderIndex === count - 1;\n      context.even = renderIndex % 2 === 0;\n      context.odd = !context.even;\n      context.index = renderIndex;\n    }\n  }\n\n  private _getNodeDef(data: any, i: number): NguCarouselDefDirective<any> {\n    if (this._defDirec.length === 1) {\n      return this._defDirec.first;\n    }\n\n    const nodeDef =\n      this._defDirec.find(def => def.when && def.when(i, data)) || this._defaultNodeDef;\n\n    return nodeDef;\n  }\n\n  ngAfterViewInit() {\n    this.carousel = this._el.nativeElement;\n    this._inputValidation();\n\n    this.carouselCssNode = this._createStyleElem();\n\n    if (isPlatformBrowser(this.platformId)) {\n      this._carouselInterval();\n      if (!this.vertical.enabled) {\n        this._touch();\n      }\n      this.listener3 = this._renderer.listen('window', 'resize', event => {\n        this._onResizing(event);\n      });\n      this._onWindowScrolling();\n    }\n  }\n\n  ngAfterContentInit() {\n    this._observeRenderChanges();\n\n    this.cdr.markForCheck();\n  }\n\n  private _inputValidation() {\n    this.inputs.gridBreakpoints = this.inputs.gridBreakpoints ? this.inputs.gridBreakpoints : new Breakpoints();\n    if (this.inputs.grid.xl === undefined) {\n      this.inputs.grid.xl = this.inputs.grid.lg;\n    }\n\n    this.type = this.inputs.grid.all !== 0 ? 'fixed' : 'responsive';\n    this.loop = this.inputs.loop || false;\n    this.inputs.easing = this.inputs.easing || 'cubic-bezier(0, 0, 0.2, 1)';\n    this.touch.active = this.inputs.touch || false;\n    this.RTL = this.inputs.RTL ? true : false;\n    this.interval = this.inputs.interval || null;\n    this.velocity = typeof this.inputs.velocity === 'number' ? this.inputs.velocity : this.velocity;\n\n    if (this.inputs.vertical && this.inputs.vertical.enabled) {\n      this.vertical.enabled = this.inputs.vertical.enabled;\n      this.vertical.height = this.inputs.vertical.height;\n    }\n    this.directionSym = this.RTL ? '' : '-';\n    this.point =\n      this.inputs.point && typeof this.inputs.point.visible !== 'undefined'\n        ? this.inputs.point.visible\n        : true;\n\n    this._carouselSize();\n  }\n\n  ngOnDestroy() {\n    this.carouselInt && this.carouselInt.unsubscribe();\n    this._intervalController$.unsubscribe();\n    this.carouselLoad.complete();\n    this.onMove.complete();\n\n    /** remove listeners */\n    clearTimeout(this.onScrolling);\n    for (let i = 1; i <= 4; i++) {\n      const str = `listener${i}`;\n      this[str] && this[str]();\n    }\n  }\n\n  private _onResizing(event: any): void {\n    clearTimeout(this.onResize);\n    this.onResize = setTimeout(() => {\n      if (this.deviceWidth !== event.target.outerWidth) {\n        this._setStyle(this.nguItemsContainer.nativeElement, 'transition', ``);\n        this._storeCarouselData();\n      }\n    }, 500);\n  }\n\n  /** Get Touch input */\n  private _touch(): void {\n    if (this.inputs.touch) {\n      import('hammerjs').then(() => {\n        const hammertime = new Hammer(this.touchContainer.nativeElement);\n        hammertime.get('pan').set({ direction: Hammer.DIRECTION_HORIZONTAL });\n\n        hammertime.on('panstart', (ev: any) => {\n          this.carouselWidth = this.nguItemsContainer.nativeElement.offsetWidth;\n          this.touchTransform = this.transform[this.deviceType];\n          this.dexVal = 0;\n          this._setStyle(this.nguItemsContainer.nativeElement, 'transition', '');\n        });\n        if (this.vertical.enabled) {\n          hammertime.on('panup', (ev: any) => {\n            this._touchHandling('panleft', ev);\n          });\n          hammertime.on('pandown', (ev: any) => {\n            this._touchHandling('panright', ev);\n          });\n        } else {\n          hammertime.on('panleft', (ev: any) => {\n            this._touchHandling('panleft', ev);\n          });\n          hammertime.on('panright', (ev: any) => {\n            this._touchHandling('panright', ev);\n          });\n        }\n        hammertime.on('panend pancancel', (ev: any) => {\n          const delta = this.vertical.enabled ? ev.deltaY : ev.deltaX;\n          const velocity = Math.abs(ev.velocity) > Math.abs(ev.overallVelocity) ? ev.velocity : ev.overallVelocity;\n          if (Math.abs(delta + velocity / .7 * this.itemWidth / 2) > this.itemWidth / 2) {\n            this.touch.velocity = velocity;\n            let direc = 0;\n            if (!this.RTL) {\n              direc = delta > 0 ? 0 : 1;\n            } else {\n              direc = delta > 0 ? 1 : 0;\n            }\n            this._carouselScrollOne(direc);\n          } else {\n            this.dexVal = 0;\n            this._setStyle(\n              this.nguItemsContainer.nativeElement,\n              'transition',\n              'transform 324ms cubic-bezier(0, 0, 0.2, 1)'\n            );\n            this._setStyle(this.nguItemsContainer.nativeElement, 'transform', '');\n          }\n        });\n        hammertime.on('hammer.input', ev => {\n          // allow nested touch events to no propagate, this may have other side affects but works for now.\n          // TODO: It is probably better to check the source element of the event and only apply the handle to the correct carousel\n          ev.srcEvent.stopPropagation();\n        });\n      });\n    }\n  }\n\n  /** handle touch input */\n  private _touchHandling(e: string, ev: any): void {\n    // vertical touch events seem to cause to panstart event with an odd delta\n    // and a center of {x:0,y:0} so this will ignore them\n    if (ev.center.x === 0) {\n      return;\n    }\n\n    ev = Math.abs(this.vertical.enabled ? ev.deltaY : ev.deltaX);\n    let valt = ev - this.dexVal;\n    valt =\n      this.type === 'responsive'\n        ? (Math.abs(ev - this.dexVal) /\n          (this.vertical.enabled ? this.vertical.height : this.carouselWidth)) *\n        100\n        : valt;\n    this.dexVal = ev;\n    this.touch.swipe = e;\n    this._setTouchTransfrom(e, valt);\n    this._setTransformFromTouch();\n  }\n\n  private _setTouchTransfrom(e: string, valt: number) {\n    const condition = this.RTL ? 'panright' : 'panleft';\n    this.touchTransform = e === condition ? valt + this.touchTransform : this.touchTransform - valt;\n  }\n\n  private _setTransformFromTouch() {\n    if (this.touchTransform < 0) {\n      this.touchTransform = 0;\n    }\n    const type = this.type === 'responsive' ? '%' : 'px';\n    this._setStyle(\n      this.nguItemsContainer.nativeElement,\n      'transform',\n      this.vertical.enabled\n        ? `translate3d(0, ${this.directionSym}${this.touchTransform}${type}, 0)`\n        : `translate3d(${this.directionSym}${this.touchTransform}${type}, 0, 0)`\n    );\n  }\n\n  /** this fn used to disable the interval when it is not on the viewport */\n  private _onWindowScrolling(): void {\n    const top = this.carousel.offsetTop;\n    const scrollY = window.scrollY;\n    const heightt = window.innerHeight;\n    const carouselHeight = this.carousel.offsetHeight;\n    const isCarouselOnScreen =\n      top <= scrollY + heightt - carouselHeight / 4 && top + carouselHeight / 2 >= scrollY;\n\n    if (isCarouselOnScreen) {\n      this._intervalController$.next(1);\n    } else {\n      this._intervalController$.next(0);\n    }\n  }\n\n  /** store data based on width of the screen for the carousel */\n  private _storeCarouselData(): void {\n    const breakpoints = this.inputs.gridBreakpoints;\n    this.deviceWidth = isPlatformBrowser(this.platformId) ? window.innerWidth : breakpoints.xl;\n\n    this.carouselWidth = this.carouselMain1.nativeElement.offsetWidth;\n\n    if (this.type === 'responsive') {\n      this.deviceType =\n        this.deviceWidth >= breakpoints.xl\n          ? 'xl'\n          : this.deviceWidth >= breakpoints.lg\n            ? 'lg'\n            : this.deviceWidth >= breakpoints.md\n              ? 'md'\n              : this.deviceWidth >= breakpoints.sm\n                ? 'sm'\n                : 'xs';\n\n      this.items = this.inputs.grid[this.deviceType];\n      this.itemWidth = this.carouselWidth / this.items;\n    } else {\n      this.items = Math.trunc(this.carouselWidth / this.inputs.grid.all);\n      this.itemWidth = this.inputs.grid.all;\n      this.deviceType = 'all';\n    }\n\n    this.slideItems = +(this.inputs.slide < this.items ? this.inputs.slide : this.items);\n    this.load = this.inputs.load >= this.slideItems ? this.inputs.load : this.slideItems;\n    this.speed = this.inputs.speed && this.inputs.speed > -1 ? this.inputs.speed : 400;\n    this._carouselPoint();\n  }\n\n  /** Used to reset the carousel */\n  public reset(withOutAnimation?: boolean): void {\n    withOutAnimation && (this.withAnim = false);\n    this.carouselCssNode.innerHTML = '';\n    this.moveTo(0);\n    this._carouselPoint();\n  }\n\n  /** Init carousel point */\n  private _carouselPoint(): void {\n    const Nos = this.dataSource.length - (this.items - this.slideItems);\n    this.pointIndex = Math.ceil(Nos / this.slideItems);\n    const pointers = [];\n\n    if (this.pointIndex > 1 || !this.inputs.point.hideOnSingleSlide) {\n      for (let i = 0; i < this.pointIndex; i++) {\n        pointers.push(i);\n      }\n    }\n    this.pointNumbers = pointers;\n\n    this._carouselPointActiver();\n    if (this.pointIndex <= 1) {\n      this._btnBoolean(1, 1);\n    } else {\n      if (this.currentSlide === 0 && !this.loop) {\n        this._btnBoolean(1, 0);\n      } else {\n        this._btnBoolean(0, 0);\n      }\n    }\n  }\n\n  /** change the active point in carousel */\n  private _carouselPointActiver(): void {\n    const i = Math.ceil(this.currentSlide / this.slideItems);\n    this.activePoint = i;\n    this.cdr.markForCheck();\n  }\n\n  /** this function is used to scoll the carousel when point is clicked */\n  public moveTo(slide: number, withOutAnimation?: boolean) {\n    // slide = slide - 1;\n    withOutAnimation && (this.withAnim = false);\n    if (this.activePoint !== slide && slide < this.pointIndex) {\n      let slideremains;\n      const btns = this.currentSlide < slide ? 1 : 0;\n\n      switch (slide) {\n        case 0:\n          this._btnBoolean(1, 0);\n          slideremains = slide * this.slideItems;\n          break;\n        case this.pointIndex - 1:\n          this._btnBoolean(0, 1);\n          slideremains = this.dataSource.length - this.items;\n          break;\n        default:\n          this._btnBoolean(0, 0);\n          slideremains = slide * this.slideItems;\n      }\n      this._carouselScrollTwo(btns, slideremains, this.speed);\n    }\n  }\n\n  /** set the style of the carousel based the inputs data */\n  private _carouselSize(): void {\n    this.token = this._generateID();\n    let dism = '';\n    this.styleid = `.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`;\n\n    if (this.inputs.custom === 'banner') {\n      this._renderer.addClass(this.carousel, 'banner');\n    }\n\n    if (this.inputs.animation === 'lazy') {\n      dism += `${this.styleid} > .item {transition: transform .6s ease;}`;\n    }\n\n    const breakpoints = this.inputs.gridBreakpoints;\n\n    let itemStyle = '';\n    if (this.vertical.enabled) {\n      const itemWidthXS = `${this.styleid} > .item {height: ${this.vertical.height /\n        +this.inputs.grid.xs}px}`;\n      const itemWidthSM = `${this.styleid} > .item {height: ${this.vertical.height /\n        +this.inputs.grid.sm}px}`;\n      const itemWidthMD = `${this.styleid} > .item {height: ${this.vertical.height /\n        +this.inputs.grid.md}px}`;\n      const itemWidthLG = `${this.styleid} > .item {height: ${this.vertical.height /\n        +this.inputs.grid.lg}px}`;\n      const itemWidthXL = `${this.styleid} > .item {height: ${this.vertical.height /\n          +this.inputs.grid.xl}px}`;\n\n      itemStyle = `@media (max-width:${breakpoints.sm - 1}px){${itemWidthXS}}\n                    @media (max-width:${breakpoints.sm}px){${itemWidthSM}}\n                    @media (min-width:${breakpoints.md}px){${itemWidthMD}}\n                    @media (min-width:${breakpoints.lg}px){${itemWidthLG}}\n                    @media (min-width:${breakpoints.xl}px){${itemWidthXL}}`;\n    } else if (this.type === 'responsive') {\n      const itemWidthXS =\n        this.inputs.type === 'mobile'\n          ? `${this.styleid} .item {flex: 0 0 ${95 / +this.inputs.grid.xs}%; width: ${95 /\n          +this.inputs.grid.xs}%;}`\n          : `${this.styleid} .item {flex: 0 0 ${100 / +this.inputs.grid.xs}%; width: ${100 /\n          +this.inputs.grid.xs}%;}`;\n\n      const itemWidthSM = `${this.styleid} > .item {flex: 0 0 ${100 /\n        +this.inputs.grid.sm}%; width: ${100 / +this.inputs.grid.sm}%}`;\n      const itemWidthMD = `${this.styleid} > .item {flex: 0 0 ${100 /\n        +this.inputs.grid.md}%; width: ${100 / +this.inputs.grid.md}%}`;\n      const itemWidthLG = `${this.styleid} > .item {flex: 0 0 ${100 /\n        +this.inputs.grid.lg}%; width: ${100 / +this.inputs.grid.lg}%}`;\n      const itemWidthXL = `${this.styleid} > .item {flex: 0 0 ${100 /\n        +this.inputs.grid.xl}%; width: ${100 / +this.inputs.grid.xl}%}`;\n\n      itemStyle = `@media (max-width:${breakpoints.sm-1}px){${itemWidthXS}}\n                    @media (min-width:${breakpoints.sm}px){${itemWidthSM}}\n                    @media (min-width:${breakpoints.md}px){${itemWidthMD}}\n                    @media (min-width:${breakpoints.lg}px){${itemWidthLG}}\n                    @media (min-width:${breakpoints.xl}px){${itemWidthXL}}`;\n    } else {\n      itemStyle = `${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`;\n    }\n\n    this._renderer.addClass(this.carousel, this.token);\n    if (this.vertical.enabled) {\n      this._renderer.addClass(this.nguItemsContainer.nativeElement, 'nguvertical');\n      this._renderer.setStyle(\n        this.carouselMain1.nativeElement,\n        'height',\n        `${this.vertical.height}px`\n      );\n    }\n\n    // tslint:disable-next-line:no-unused-expression\n    this.RTL && !this.vertical.enabled && this._renderer.addClass(this.carousel, 'ngurtl');\n    this._createStyleElem(`${dism} ${itemStyle}`);\n    this._storeCarouselData();\n  }\n\n  /** logic to scroll the carousel step 1 */\n  private _carouselScrollOne(Btn: number): void {\n    let itemSpeed = this.speed;\n    let translateXval = 0;\n    let currentSlide = 0;\n    const touchMove = Math.ceil(this.dexVal / this.itemWidth);\n    this._setStyle(this.nguItemsContainer.nativeElement, 'transform', '');\n\n    if (this.pointIndex === 1) {\n      return;\n    } else if (Btn === 0 && ((!this.loop && !this.isFirst) || this.loop)) {\n\n      const currentSlideD = this.currentSlide - this.slideItems;\n      const MoveSlide = currentSlideD + this.slideItems;\n      this._btnBoolean(0, 1);\n      if (this.currentSlide === 0) {\n        currentSlide = this.dataSource.length - this.items;\n        itemSpeed = 400;\n        this._btnBoolean(0, 1);\n      } else if (this.slideItems >= MoveSlide) {\n        currentSlide = translateXval = 0;\n        this._btnBoolean(1, 0);\n      } else {\n        this._btnBoolean(0, 0);\n        if (touchMove > this.slideItems) {\n          currentSlide = this.currentSlide - touchMove;\n          itemSpeed = 200;\n        } else {\n          currentSlide = this.currentSlide - this.slideItems;\n        }\n      }\n      this._carouselScrollTwo(Btn, currentSlide, itemSpeed);\n    } else if (Btn === 1 && ((!this.loop && !this.isLast) || this.loop)) {\n      if (\n        this.dataSource.length <= this.currentSlide + this.items + this.slideItems &&\n        !this.isLast\n      ) {\n        currentSlide = this.dataSource.length - this.items;\n        this._btnBoolean(0, 1);\n      } else if (this.isLast) {\n        currentSlide = translateXval = 0;\n        itemSpeed = 400;\n        this._btnBoolean(1, 0);\n      } else {\n        this._btnBoolean(0, 0);\n        if (touchMove > this.slideItems) {\n          currentSlide = this.currentSlide + this.slideItems + (touchMove - this.slideItems);\n          itemSpeed = 200;\n        } else {\n          currentSlide = this.currentSlide + this.slideItems;\n        }\n      }\n      this._carouselScrollTwo(Btn, currentSlide, itemSpeed);\n    }\n  }\n\n  /** logic to scroll the carousel step 2 */\n  private _carouselScrollTwo(Btn: number, currentSlide: number, itemSpeed: number): void {\n    // tslint:disable-next-line:no-unused-expression\n\n    if (this.dexVal !== 0) {\n      const val = Math.abs(this.touch.velocity);\n      let somt = Math.floor((this.dexVal / val / this.dexVal) * (this.deviceWidth - this.dexVal));\n      somt = somt > itemSpeed ? itemSpeed : somt;\n      itemSpeed = somt < 200 ? 200 : somt;\n      this.dexVal = 0;\n    }\n    if (this.withAnim) {\n      this._setStyle(\n        this.nguItemsContainer.nativeElement,\n        'transition',\n        `transform ${itemSpeed}ms ${this.inputs.easing}`\n      );\n      this.inputs.animation &&\n        this._carouselAnimator(\n          Btn,\n          currentSlide + 1,\n          currentSlide + this.items,\n          itemSpeed,\n          Math.abs(this.currentSlide - currentSlide)\n        );\n    } else {\n      this._setStyle(this.nguItemsContainer.nativeElement, 'transition', ``);\n    }\n\n    this.itemLength = this.dataSource.length;\n    this._transformStyle(currentSlide);\n    this.currentSlide = currentSlide;\n    this.onMove.emit(this);\n    this._carouselPointActiver();\n    this._carouselLoadTrigger();\n    this.withAnim = true;\n  }\n\n  /** boolean function for making isFirst and isLast */\n  private _btnBoolean(first: number, last: number) {\n    this.isFirst = !!first;\n    this.isLast = !!last;\n  }\n\n  private _transformString(grid: string, slide: number): string {\n    let collect = '';\n    collect += `${this.styleid} { transform: translate3d(`;\n\n    if (this.vertical.enabled) {\n      this.transform[grid] = (this.vertical.height / this.inputs.grid[grid]) * slide;\n      collect += `0, -${this.transform[grid]}px, 0`;\n    } else {\n      this.transform[grid] = (100 / this.inputs.grid[grid]) * slide;\n      collect += `${this.directionSym}${this.transform[grid]}%, 0, 0`;\n    }\n    collect += `); }`;\n    return collect;\n  }\n\n  /** set the transform style to scroll the carousel  */\n  private _transformStyle(slide: number): void {\n    let slideCss = '';\n    if (this.type === 'responsive') {\n      const breakpoints = this.inputs.gridBreakpoints;\n      slideCss = `@media (max-width: ${breakpoints.sm - 1}px) {${this._transformString('xs', slide)}}\n      @media (min-width: ${breakpoints.sm}px) {${this._transformString('sm', slide)} }\n      @media (min-width: ${breakpoints.md}px) {${this._transformString('md', slide)} }\n      @media (min-width: ${breakpoints.lg}px) {${this._transformString('lg', slide)} }\n      @media (min-width: ${breakpoints.xl}px) {${this._transformString('xl', slide)} }`;\n    } else {\n      this.transform.all = this.inputs.grid.all * slide;\n      slideCss = `${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;\n    }\n    this.carouselCssNode.textContent = slideCss;\n  }\n\n  /** this will trigger the carousel to load the items */\n  private _carouselLoadTrigger(): void {\n    if (typeof this.inputs.load === 'number') {\n      this.dataSource.length - this.load <= this.currentSlide + this.items &&\n        this.carouselLoad.emit(this.currentSlide);\n    }\n  }\n\n  /** generate Class for each carousel to set specific style */\n  private _generateID(): string {\n    let text = '';\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (let i = 0; i < 6; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return `ngucarousel${text}`;\n  }\n\n  /** handle the auto slide */\n  private _carouselInterval(): void {\n    const container = this.carouselMain1.nativeElement;\n    if (this.interval && this.loop) {\n      this.listener4 = this._renderer.listen('window', 'scroll', () => {\n        clearTimeout(this.onScrolling);\n        this.onScrolling = setTimeout(() => {\n          this._onWindowScrolling();\n        }, 600);\n      });\n\n      const play$ = fromEvent(container, 'mouseleave').pipe(mapTo(1));\n      const pause$ = fromEvent(container, 'mouseenter').pipe(mapTo(0));\n\n      const touchPlay$ = fromEvent(container, 'touchstart').pipe(mapTo(1));\n      const touchPause$ = fromEvent(container, 'touchend').pipe(mapTo(0));\n\n      const interval$ = interval(this.inputs.interval.timing).pipe(mapTo(1));\n\n      setTimeout(() => {\n        this.carouselInt = merge(play$, touchPlay$, pause$, touchPause$, this._intervalController$)\n          .pipe(\n            startWith(1),\n            switchMap(val => {\n              this.isHovered = !val;\n              this.cdr.markForCheck();\n              return val ? interval$ : EMPTY;\n            })\n          )\n          .subscribe(res => {\n            this._carouselScrollOne(1);\n          });\n      }, this.interval.initialDelay);\n    }\n  }\n\n  private _updateItemIndexContextAni() {\n    const viewContainer = this._nodeOutlet.viewContainer;\n    for (let renderIndex = 0, count = viewContainer.length; renderIndex < count; renderIndex++) {\n      const viewRef = viewContainer.get(renderIndex) as any;\n      const context = viewRef.context as any;\n      context.count = count;\n      context.first = renderIndex === 0;\n      context.last = renderIndex === count - 1;\n      context.even = renderIndex % 2 === 0;\n      context.odd = !context.even;\n      context.index = renderIndex;\n    }\n  }\n\n  /** animate the carousel items */\n  private _carouselAnimator(\n    direction: number,\n    start: number,\n    end: number,\n    speed: number,\n    length: number,\n    viewContainer = this._nodeOutlet.viewContainer\n  ): void {\n    let val = length < 5 ? length : 5;\n    val = val === 1 ? 3 : val;\n    const collectIndex = [];\n\n    if (direction === 1) {\n      for (let i = start - 1; i < end; i++) {\n        collectIndex.push(i);\n        val = val * 2;\n        const viewRef = viewContainer.get(i) as any;\n        const context = viewRef.context as any;\n        context.animate = { value: true, params: { distance: val } };\n      }\n    } else {\n      for (let i = end - 1; i >= start - 1; i--) {\n        collectIndex.push(i);\n        val = val * 2;\n        const viewRef = viewContainer.get(i) as any;\n        const context = viewRef.context as any;\n        context.animate = { value: true, params: { distance: -val } };\n      }\n    }\n    this.cdr.markForCheck();\n    setTimeout(() => {\n      this._removeAnimations(collectIndex);\n    }, speed * 0.7);\n  }\n\n  private _removeAnimations(indexs: number[]) {\n    const viewContainer = this._nodeOutlet.viewContainer;\n    indexs.forEach(i => {\n      const viewRef = viewContainer.get(i) as any;\n      const context = viewRef.context as any;\n      context.animate = { value: false, params: { distance: 0 } };\n    });\n    this.cdr.markForCheck();\n  }\n\n  /** Short form for setElementStyle */\n  private _setStyle(el: any, prop: any, val: any): void {\n    this._renderer.setStyle(el, prop, val);\n  }\n\n  /** For generating style tag */\n  private _createStyleElem(datas?: string) {\n    const styleItem = this._renderer.createElement('style');\n    if (datas) {\n      const styleText = this._renderer.createText(datas);\n      this._renderer.appendChild(styleItem, styleText);\n    }\n    this._renderer.appendChild(this.carousel, styleItem);\n    return styleItem;\n  }\n}\n","import { Component, HostBinding } from '@angular/core';\n\n@Component({\n  selector: 'ngu-item',\n  templateUrl: 'ngu-item.component.html',\n  styleUrls: ['ngu-item.component.scss']\n})\nexport class NguItemComponent {\n  @HostBinding('class.item') classes = true;\n}\n","import { Component, HostBinding } from '@angular/core';\n\n@Component({\n  selector: 'ngu-tile',\n  templateUrl: 'ngu-tile.component.html',\n  styleUrls: ['ngu-tile.component.scss']\n})\nexport class NguTileComponent {\n  @HostBinding('class.item') classes = true;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport {\n  NguCarouselDefDirective,\n  NguCarouselItemDirective,\n  NguCarouselNextDirective,\n  NguCarouselOutlet,\n  NguCarouselPointDirective,\n  NguCarouselPrevDirective\n} from './ngu-carousel.directive';\nimport { NguCarousel } from './ngu-carousel/ngu-carousel.component';\nimport { NguItemComponent } from './ngu-item/ngu-item.component';\nimport { NguTileComponent } from './ngu-tile/ngu-tile.component';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [\n    NguCarousel,\n    NguItemComponent,\n    NguTileComponent,\n    NguCarouselPointDirective,\n    NguCarouselItemDirective,\n    NguCarouselNextDirective,\n    NguCarouselPrevDirective,\n    NguCarouselDefDirective,\n    NguCarouselOutlet\n  ],\n  declarations: [\n    NguCarousel,\n    NguItemComponent,\n    NguTileComponent,\n    NguCarouselPointDirective,\n    NguCarouselItemDirective,\n    NguCarouselNextDirective,\n    NguCarouselPrevDirective,\n    NguCarouselDefDirective,\n    NguCarouselOutlet\n  ]\n})\nexport class NguCarouselModule { }\n","/*\n * Public API Surface of carousel\n */\n\nexport { NguCarouselConfig } from './lib/ngu-carousel/ngu-carousel';\n\nexport { NguCarouselStore } from './lib/ngu-carousel/ngu-carousel';\n\nexport { NguCarousel } from './lib/ngu-carousel/ngu-carousel.component';\n\nexport { NguCarouselModule } from './lib/ngu-carousel.module';\n\nexport { NguItemComponent } from './lib/ngu-item/ngu-item.component';\n\nexport { NguTileComponent } from './lib/ngu-tile/ngu-tile.component';\n\nexport {\n  NguCarouselDefDirective,\n  NguCarouselPointDirective,\n  NguCarouselItemDirective,\n  NguCarouselNextDirective,\n  NguCarouselPrevDirective,\n  NguCarouselOutlet\n} from './lib/ngu-carousel.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {ItemsControl as a,NguButton as b} from './lib/ngu-carousel/ngu-carousel';"],"names":["Directive","TemplateRef","ViewContainerRef","EventEmitter","Subject","isDevMode","Observable","of","takeUntil","isPlatformBrowser","fromEvent","mapTo","interval","merge","startWith","switchMap","EMPTY","Component","ChangeDetectionStrategy","ElementRef","Renderer2","IterableDiffers","Inject","PLATFORM_ID","ChangeDetectorRef","Input","Output","ContentChildren","ViewChild","ContentChild","HostBinding","NgModule","CommonModule"],"mappings":"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"}