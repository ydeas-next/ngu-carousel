{"version":3,"sources":["../../../../projects/ngu-carousel/src/lib/ngu-carousel/ngu-carousel.ts","../../../../node_modules/tslib/tslib.es6.js","../../../../projects/ngu-carousel/src/lib/ngu-carousel.directive.ts","../../../../projects/ngu-carousel/src/lib/ngu-carousel/ngu-carousel.component.ts","../../../../projects/ngu-carousel/src/lib/ngu-item/ngu-item.component.ts","../../../../projects/ngu-carousel/src/lib/ngu-tile/ngu-tile.component.ts","../../../../projects/ngu-carousel/src/lib/ngu-carousel.module.ts"],"names":["touch","vertical","interval","transform","button","visibleItems","deviceType","type","token","items","load","deviceWidth","carouselWidth","itemWidth","slideItems","itemWidthPer","itemLength","currentSlide","easing","speed","loop","dexVal","touchTransform","isEnd","isFirst","isLast","RTL","point","velocity","Touch","Vertical","Transfrom","this","xs","sm","md","lg","all","xl","Breakpoints","NguCarouselOutletContext","data","$implicit","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","create","Directive","args","selector","template","TemplateRef","viewContainer","ViewContainerRef","NguCarousel","_el","_renderer","_differs","platformId","cdr","_this","_super","call","withAnim","isHovered","carouselLoad","EventEmitter","onMove","_intervalController$","Subject","pointNumbers","__","constructor","prototype","__extends","defineProperty","_dataSource","_switchDataSource","btn","listener2","listen","nativeElement","_carouselScrollOne","listener1","_trackByFn","fn","isDevMode","console","warn","JSON","stringify","ngOnInit","_dataDiffer","find","_i","item","trackBy","ngDoCheck","arrayChanges","diff","dataSource","_defDirec","_observeRenderChanges","dataStream","Observable","isArray","of","_dataSubscription","pipe","takeUntil","subscribe","renderNodeChanges","_nodeOutlet","forEachOperation","adjustedPreviousIndex","currentIndex","node","_getNodeDef","previousIndex","context","index","createEmbeddedView","remove","view","get","move","_updateItemIndexContext","carousel","_storeCarouselData","renderIndex","count","length","first","last","even","odd","i","def","when","_defaultNodeDef","ngAfterViewInit","_inputValidation","carouselCssNode","_createStyleElem","isPlatformBrowser","_carouselInterval","enabled","_touch","listener3","event","_onResizing","_onWindowScrolling","ngAfterContentInit","markForCheck","inputs","gridBreakpoints","undefined","grid","active","height","directionSym","visible","_carouselSize","ngOnDestroy","carouselInt","unsubscribe","complete","clearTimeout","onScrolling","str","onResize","setTimeout","target","outerWidth","_setStyle","nguItemsContainer","import","then","hammertime","Hammer","touchContainer","set","direction","DIRECTION_HORIZONTAL","on","ev","offsetWidth","_touchHandling","delta","deltaY","deltaX","Math","abs","overallVelocity","direc","srcEvent","stopPropagation","e","center","x","valt","swipe","_setTouchTransfrom","_setTransformFromTouch","condition","top","offsetTop","scrollY","window","heightt","innerHeight","carouselHeight","offsetHeight","next","breakpoints","innerWidth","carouselMain1","trunc","slide","_carouselPoint","reset","withOutAnimation","innerHTML","moveTo","Nos","pointIndex","ceil","pointers","hideOnSingleSlide","push","_carouselPointActiver","_btnBoolean","activePoint","slideremains","btns","_carouselScrollTwo","_generateID","dism","styleid","custom","addClass","animation","itemStyle","itemWidthXS","itemWidthSM","itemWidthMD","itemWidthLG","itemWidthXL","setStyle","Btn","itemSpeed","touchMove","MoveSlide","val","somt","floor","_carouselAnimator","_transformStyle","emit","_carouselLoadTrigger","_transformString","collect","slideCss","textContent","text","possible","charAt","random","container","listener4","play$_1","fromEvent","mapTo","pause$_1","touchPlay$_1","touchPause$_1","interval$_1","timing","merge","startWith","switchMap","EMPTY","res","initialDelay","_updateItemIndexContextAni","start","end","collectIndex","animate","value","params","distance","_removeAnimations","indexs","forEach","el","prop","datas","styleItem","createElement","styleText","createText","appendChild","NguCarouselStore","Component","changeDetection","ChangeDetectionStrategy","OnPush","ElementRef","Renderer2","IterableDiffers","Inject","PLATFORM_ID","ChangeDetectorRef","Input","Output","ContentChildren","NguCarouselDefDirective","ViewChild","NguCarouselOutlet","static","ContentChild","NguCarouselNextDirective","read","NguCarouselPrevDirective","classes","HostBinding","NgModule","imports","CommonModule","exports","NguItemComponent","NguTileComponent","NguCarouselPointDirective","NguCarouselItemDirective","declarations"],"mappings":"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","sourcesContent":["export class NguCarouselStore {\n  constructor(\n    public touch = new Touch(),\n    public vertical = new Vertical(),\n    public interval?: CarouselInterval,\n    public transform = new Transfrom(),\n    public button?: NguButton,\n    public visibleItems?: ItemsControl,\n    public deviceType?: DeviceType,\n    public type = 'fixed',\n    public token = '',\n    public items = 0,\n    public load = 0,\n    public deviceWidth = 0,\n    public carouselWidth = 0,\n    public itemWidth = 0,\n    public slideItems = 0,\n    public itemWidthPer = 0,\n    public itemLength = 0,\n    public currentSlide = 0,\n    public easing = 'cubic-bezier(0, 0, 0.2, 1)',\n    public speed = 200,\n    public loop = false,\n    public dexVal = 0,\n    public touchTransform = 0,\n    public isEnd = false,\n    public isFirst = true,\n    public isLast = false,\n    public RTL = false,\n    public point = true,\n    public velocity = 1\n  ) {}\n}\nexport type DeviceType = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | 'all';\n\nexport type ButtonVisible = 'disabled' | 'hide';\n\nexport class ItemsControl {\n  start: number;\n  end: number;\n}\n\nexport class Vertical {\n  enabled: boolean;\n  height: number;\n  // numHeight?: number;\n}\n\nexport class NguButton {\n  visibility?: ButtonVisible;\n  elastic?: number;\n}\n\nexport class Touch {\n  active?: boolean;\n  swipe: string;\n  velocity: number;\n}\n\n// Interface is declared to prevent property-minification\n// See: https://github.com/uiuniversal/ngu-carousel/issues/322\ndeclare interface TransformInterface {\n  xs: number;\n  sm: number;\n  md: number;\n  lg: number;\n  xl?: number;\n  all: number;\n}\n\nexport class Transfrom implements TransformInterface {\n  public xl? = 0;\n  constructor(public xs = 0, public sm = 0, public md = 0, public lg = 0, public all = 0) {}\n}\n\n// Interface is declared to prevent property-minification\n// See: https://github.com/uiuniversal/ngu-carousel/issues/322\ndeclare interface BreakpointsInterface {\n  sm: number;\n  md: number;\n  lg: number;\n  xl: number;\n}\n\n/**\n * Default values\n * {sm: 768, md: 992, lg: 1200, xl: 1200}\n *\n * Bootstrap values:\n * {sm: 576, md: 768, lg: 992, xl: 1200}\n */\nexport class Breakpoints implements BreakpointsInterface {\n  constructor(public sm = 768, public md = 992, public lg = 1200, public xl = 1200) {}\n}\n\nexport class NguCarouselConfig {\n  grid: Transfrom;\n  gridBreakpoints?: Breakpoints;\n  slide?: number;\n  speed?: number;\n  interval?: CarouselInterval;\n  animation?: Animate;\n  point?: Point;\n  type?: string;\n  load?: number;\n  custom?: Custom;\n  loop?: boolean;\n  touch?: boolean;\n  easing?: string;\n  RTL?: boolean;\n  button?: NguButton;\n  vertical?: Vertical;\n  velocity?: number;\n}\n\nexport type Custom = 'banner';\nexport type Animate = 'lazy';\n\nexport interface Point {\n  visible: boolean;\n  hideOnSingleSlide?: boolean;\n}\n\nexport interface Animation {\n  type?: Animate;\n  animateStyles?: AnimationStyles;\n}\n\nexport interface AnimationStyles {\n  style?: string;\n  open?: string;\n  close?: string;\n  stagger?: number;\n}\n\nexport interface CarouselInterval {\n  timing: number;\n  initialDelay?: number;\n}\n\nexport class NguCarouselOutletContext<T> {\n  /** Data for the node. */\n  $implicit: T;\n\n  /** Depth of the node. */\n  level: number;\n\n  /** Index location of the node. */\n  index?: number;\n\n  /** Length of the number of total dataNodes. */\n  count?: number;\n\n  constructor(data: T) {\n    this.$implicit = data;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Directive, TemplateRef, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[NguCarouselItem]'\n})\nexport class NguCarouselItemDirective {}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[NguCarouselNext]'\n})\nexport class NguCarouselNextDirective {\n  // @HostBinding('disabled') disabled: boolean;\n  // @HostBinding('style.display') display = 'block';\n  // @HostListener('click')\n  // onClick() {\n  // }\n}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[NguCarouselPrev]'\n})\nexport class NguCarouselPrevDirective {\n  // @HostBinding('disabled') disabled: boolean;\n  // @HostBinding('style.display') display = 'block';\n}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[NguCarouselPoint]'\n})\nexport class NguCarouselPointDirective {}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[nguCarouselDef]'\n})\nexport class NguCarouselDefDirective<T> {\n  when: (index: number, nodeData: T) => boolean;\n\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[nguCarouselOutlet]'\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class NguCarouselOutlet {\n  constructor(public viewContainer: ViewContainerRef) {}\n}\n","import { isPlatformBrowser } from '@angular/common';\n\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  isDevMode,\n  IterableChangeRecord,\n  IterableChanges,\n  IterableDiffer,\n  IterableDiffers,\n  OnDestroy,\n  OnInit,\n  Output,\n  PLATFORM_ID,\n  QueryList,\n  Renderer2,\n  TrackByFunction,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { EMPTY, fromEvent, interval, merge, Observable, of, Subject, Subscription } from 'rxjs';\nimport { mapTo, startWith, switchMap, takeUntil } from 'rxjs/operators';\nimport {\n  NguCarouselDefDirective,\n  NguCarouselNextDirective,\n  NguCarouselOutlet,\n  NguCarouselPrevDirective\n} from './../ngu-carousel.directive';\nimport { Breakpoints, NguCarouselConfig, NguCarouselOutletContext, NguCarouselStore } from './ngu-carousel';\n\n// @dynamic\n@Component({\n  selector: 'ngu-carousel',\n  templateUrl: 'ngu-carousel.component.html',\n  styleUrls: ['ngu-carousel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n// @dynamic\n// tslint:disable-next-line:component-class-suffix\nexport class NguCarousel<T> extends NguCarouselStore\n  implements OnInit, AfterContentInit, AfterViewInit, OnDestroy, DoCheck {\n  _dataSubscription: Subscription;\n  _dataSource: any;\n  _dataDiffer: IterableDiffer<{}>;\n  styleid: string;\n  private directionSym: string;\n  private carouselCssNode: any;\n  private pointIndex: number;\n  private withAnim = true;\n  activePoint: number;\n  isHovered = false;\n  @Input() inputs: NguCarouselConfig;\n  @Output() carouselLoad = new EventEmitter();\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onMove = new EventEmitter<NguCarousel<T>>();\n  // isFirstss = 0;\n  arrayChanges: IterableChanges<{}>;\n  carouselInt: Subscription;\n\n  listener1: () => void;\n  listener2: () => void;\n  listener3: () => void;\n  listener4: () => void;\n\n  @Input('dataSource')\n  get dataSource(): any {\n    return this._dataSource;\n  }\n  set dataSource(data: any) {\n    if (data) {\n      this._switchDataSource(data);\n    }\n  }\n\n  private _defaultNodeDef: NguCarouselDefDirective<any> | null;\n\n  @ContentChildren(NguCarouselDefDirective)\n  private _defDirec: QueryList<NguCarouselDefDirective<any>>;\n\n  @ViewChild(NguCarouselOutlet, { static: true })\n  _nodeOutlet: NguCarouselOutlet;\n\n  /** The setter is used to catch the button if the button has ngIf\n   * issue id #91\n   */\n  @ContentChild(NguCarouselNextDirective, /* TODO: add static flag */ { read: ElementRef })\n  set nextBtn(btn: ElementRef) {\n    this.listener2 && this.listener2();\n    if (btn) {\n      this.listener2 = this._renderer.listen(btn.nativeElement, 'click', () =>\n        this._carouselScrollOne(1)\n      );\n    }\n  }\n\n  /** The setter is used to catch the button if the button has ngIf\n   * issue id #91\n   */\n  @ContentChild(NguCarouselPrevDirective, /* TODO: add static flag */ { read: ElementRef })\n  set prevBtn(btn: ElementRef) {\n    this.listener1 && this.listener1();\n    if (btn) {\n      this.listener1 = this._renderer.listen(btn.nativeElement, 'click', () =>\n        this._carouselScrollOne(0)\n      );\n    }\n  }\n\n  @ViewChild('ngucarousel', { read: ElementRef, static: true })\n  private carouselMain1: ElementRef;\n\n  @ViewChild('nguItemsContainer', { read: ElementRef, static: true })\n  private nguItemsContainer: ElementRef;\n\n  @ViewChild('touchContainer', { read: ElementRef, static: true })\n  private touchContainer: ElementRef;\n\n  private _intervalController$ = new Subject<number>();\n\n  private carousel: any;\n\n  private onResize: any;\n  private onScrolling: any;\n\n  pointNumbers: Array<any> = [];\n\n  /**\n   * Tracking function that will be used to check the differences in data changes. Used similarly\n   * to `ngFor` `trackBy` function. Optimize Items operations by identifying a Items based on its data\n   * relative to the function to know if a Items should be added/removed/moved.\n   * Accepts a function that takes two parameters, `index` and `item`.\n   */\n  @Input()\n  get trackBy(): TrackByFunction<T> {\n    return this._trackByFn;\n  }\n  set trackBy(fn: TrackByFunction<T>) {\n    if (isDevMode() && fn != null && typeof fn !== 'function' && console && console.warn) {\n      console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}.`);\n    }\n    this._trackByFn = fn;\n  }\n  private _trackByFn: TrackByFunction<T>;\n\n  constructor(\n    private _el: ElementRef,\n    private _renderer: Renderer2,\n    private _differs: IterableDiffers,\n    @Inject(PLATFORM_ID) private platformId: object,\n    private cdr: ChangeDetectorRef\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this._dataDiffer = this._differs.find([]).create((_i: number, item: any) => {\n      return this.trackBy ? this.trackBy(_i, item) : item;\n    });\n  }\n\n  ngDoCheck() {\n    this.arrayChanges = this._dataDiffer.diff(this.dataSource);\n    if (this.arrayChanges && this._defDirec) {\n      this._observeRenderChanges();\n    }\n  }\n\n  private _switchDataSource(dataSource: any): any {\n    this._dataSource = dataSource;\n    if (this._defDirec) {\n      this._observeRenderChanges();\n    }\n  }\n\n  private _observeRenderChanges() {\n    let dataStream: Observable<any[]> | undefined;\n\n    if (this._dataSource instanceof Observable) {\n      dataStream = this._dataSource;\n    } else if (Array.isArray(this._dataSource)) {\n      dataStream = of(this._dataSource);\n    }\n\n    if (dataStream) {\n      this._dataSubscription = dataStream\n        .pipe(takeUntil(this._intervalController$))\n        .subscribe(data => {\n          this.renderNodeChanges(data);\n          this.isLast = false;\n        });\n    }\n  }\n\n  private renderNodeChanges(\n    data: any[],\n    viewContainer: ViewContainerRef = this._nodeOutlet.viewContainer\n  ) {\n    if (!this.arrayChanges) return;\n\n    this.arrayChanges.forEachOperation(\n      (item: IterableChangeRecord<any>, adjustedPreviousIndex: number, currentIndex: number) => {\n        const node = this._getNodeDef(data[currentIndex], currentIndex);\n\n        if (item.previousIndex == null) {\n          const context = new NguCarouselOutletContext<any>(data[currentIndex]);\n          context.index = currentIndex;\n          viewContainer.createEmbeddedView(node.template, context, currentIndex);\n        } else if (currentIndex == null) {\n          viewContainer.remove(adjustedPreviousIndex);\n        } else {\n          const view = viewContainer.get(adjustedPreviousIndex);\n          viewContainer.move(view, currentIndex);\n        }\n      }\n    );\n    this._updateItemIndexContext();\n\n    if (this.carousel) {\n      this._storeCarouselData();\n    }\n  }\n\n  /**\n   * Updates the index-related context for each row to reflect any changes in the index of the rows,\n   * e.g. first/last/even/odd.\n   */\n  private _updateItemIndexContext() {\n    const viewContainer = this._nodeOutlet.viewContainer;\n    for (let renderIndex = 0, count = viewContainer.length; renderIndex < count; renderIndex++) {\n      const viewRef = viewContainer.get(renderIndex) as any;\n      const context = viewRef.context as any;\n      context.count = count;\n      context.first = renderIndex === 0;\n      context.last = renderIndex === count - 1;\n      context.even = renderIndex % 2 === 0;\n      context.odd = !context.even;\n      context.index = renderIndex;\n    }\n  }\n\n  private _getNodeDef(data: any, i: number): NguCarouselDefDirective<any> {\n    if (this._defDirec.length === 1) {\n      return this._defDirec.first;\n    }\n\n    const nodeDef =\n      this._defDirec.find(def => def.when && def.when(i, data)) || this._defaultNodeDef;\n\n    return nodeDef;\n  }\n\n  ngAfterViewInit() {\n    this.carousel = this._el.nativeElement;\n    this._inputValidation();\n\n    this.carouselCssNode = this._createStyleElem();\n\n    if (isPlatformBrowser(this.platformId)) {\n      this._carouselInterval();\n      if (!this.vertical.enabled) {\n        this._touch();\n      }\n      this.listener3 = this._renderer.listen('window', 'resize', event => {\n        this._onResizing(event);\n      });\n      this._onWindowScrolling();\n    }\n  }\n\n  ngAfterContentInit() {\n    this._observeRenderChanges();\n\n    this.cdr.markForCheck();\n  }\n\n  private _inputValidation() {\n    this.inputs.gridBreakpoints = this.inputs.gridBreakpoints ? this.inputs.gridBreakpoints : new Breakpoints();\n    if (this.inputs.grid.xl === undefined) {\n      this.inputs.grid.xl = this.inputs.grid.lg;\n    }\n\n    this.type = this.inputs.grid.all !== 0 ? 'fixed' : 'responsive';\n    this.loop = this.inputs.loop || false;\n    this.inputs.easing = this.inputs.easing || 'cubic-bezier(0, 0, 0.2, 1)';\n    this.touch.active = this.inputs.touch || false;\n    this.RTL = this.inputs.RTL ? true : false;\n    this.interval = this.inputs.interval || null;\n    this.velocity = typeof this.inputs.velocity === 'number' ? this.inputs.velocity : this.velocity;\n\n    if (this.inputs.vertical && this.inputs.vertical.enabled) {\n      this.vertical.enabled = this.inputs.vertical.enabled;\n      this.vertical.height = this.inputs.vertical.height;\n    }\n    this.directionSym = this.RTL ? '' : '-';\n    this.point =\n      this.inputs.point && typeof this.inputs.point.visible !== 'undefined'\n        ? this.inputs.point.visible\n        : true;\n\n    this._carouselSize();\n  }\n\n  ngOnDestroy() {\n    this.carouselInt && this.carouselInt.unsubscribe();\n    this._intervalController$.unsubscribe();\n    this.carouselLoad.complete();\n    this.onMove.complete();\n\n    /** remove listeners */\n    clearTimeout(this.onScrolling);\n    for (let i = 1; i <= 4; i++) {\n      const str = `listener${i}`;\n      this[str] && this[str]();\n    }\n  }\n\n  private _onResizing(event: any): void {\n    clearTimeout(this.onResize);\n    this.onResize = setTimeout(() => {\n      if (this.deviceWidth !== event.target.outerWidth) {\n        this._setStyle(this.nguItemsContainer.nativeElement, 'transition', ``);\n        this._storeCarouselData();\n      }\n    }, 500);\n  }\n\n  /** Get Touch input */\n  private _touch(): void {\n    if (this.inputs.touch) {\n      import('hammerjs').then(() => {\n        const hammertime = new Hammer(this.touchContainer.nativeElement);\n        hammertime.get('pan').set({ direction: Hammer.DIRECTION_HORIZONTAL });\n\n        hammertime.on('panstart', (ev: any) => {\n          this.carouselWidth = this.nguItemsContainer.nativeElement.offsetWidth;\n          this.touchTransform = this.transform[this.deviceType];\n          this.dexVal = 0;\n          this._setStyle(this.nguItemsContainer.nativeElement, 'transition', '');\n        });\n        if (this.vertical.enabled) {\n          hammertime.on('panup', (ev: any) => {\n            this._touchHandling('panleft', ev);\n          });\n          hammertime.on('pandown', (ev: any) => {\n            this._touchHandling('panright', ev);\n          });\n        } else {\n          hammertime.on('panleft', (ev: any) => {\n            this._touchHandling('panleft', ev);\n          });\n          hammertime.on('panright', (ev: any) => {\n            this._touchHandling('panright', ev);\n          });\n        }\n        hammertime.on('panend pancancel', (ev: any) => {\n          const delta = this.vertical.enabled ? ev.deltaY : ev.deltaX;\n          const velocity = Math.abs(ev.velocity) > Math.abs(ev.overallVelocity) ? ev.velocity : ev.overallVelocity;\n          if (Math.abs(delta + velocity / .7 * this.itemWidth / 2) > this.itemWidth / 2) {\n            this.touch.velocity = velocity;\n            let direc = 0;\n            if (!this.RTL) {\n              direc = delta > 0 ? 0 : 1;\n            } else {\n              direc = delta > 0 ? 1 : 0;\n            }\n            this._carouselScrollOne(direc);\n          } else {\n            this.dexVal = 0;\n            this._setStyle(\n              this.nguItemsContainer.nativeElement,\n              'transition',\n              'transform 324ms cubic-bezier(0, 0, 0.2, 1)'\n            );\n            this._setStyle(this.nguItemsContainer.nativeElement, 'transform', '');\n          }\n        });\n        hammertime.on('hammer.input', ev => {\n          // allow nested touch events to no propagate, this may have other side affects but works for now.\n          // TODO: It is probably better to check the source element of the event and only apply the handle to the correct carousel\n          ev.srcEvent.stopPropagation();\n        });\n      });\n    }\n  }\n\n  /** handle touch input */\n  private _touchHandling(e: string, ev: any): void {\n    // vertical touch events seem to cause to panstart event with an odd delta\n    // and a center of {x:0,y:0} so this will ignore them\n    if (ev.center.x === 0) {\n      return;\n    }\n\n    ev = Math.abs(this.vertical.enabled ? ev.deltaY : ev.deltaX);\n    let valt = ev - this.dexVal;\n    valt =\n      this.type === 'responsive'\n        ? (Math.abs(ev - this.dexVal) /\n          (this.vertical.enabled ? this.vertical.height : this.carouselWidth)) *\n        100\n        : valt;\n    this.dexVal = ev;\n    this.touch.swipe = e;\n    this._setTouchTransfrom(e, valt);\n    this._setTransformFromTouch();\n  }\n\n  private _setTouchTransfrom(e: string, valt: number) {\n    const condition = this.RTL ? 'panright' : 'panleft';\n    this.touchTransform = e === condition ? valt + this.touchTransform : this.touchTransform - valt;\n  }\n\n  private _setTransformFromTouch() {\n    if (this.touchTransform < 0) {\n      this.touchTransform = 0;\n    }\n    const type = this.type === 'responsive' ? '%' : 'px';\n    this._setStyle(\n      this.nguItemsContainer.nativeElement,\n      'transform',\n      this.vertical.enabled\n        ? `translate3d(0, ${this.directionSym}${this.touchTransform}${type}, 0)`\n        : `translate3d(${this.directionSym}${this.touchTransform}${type}, 0, 0)`\n    );\n  }\n\n  /** this fn used to disable the interval when it is not on the viewport */\n  private _onWindowScrolling(): void {\n    const top = this.carousel.offsetTop;\n    const scrollY = window.scrollY;\n    const heightt = window.innerHeight;\n    const carouselHeight = this.carousel.offsetHeight;\n    const isCarouselOnScreen =\n      top <= scrollY + heightt - carouselHeight / 4 && top + carouselHeight / 2 >= scrollY;\n\n    if (isCarouselOnScreen) {\n      this._intervalController$.next(1);\n    } else {\n      this._intervalController$.next(0);\n    }\n  }\n\n  /** store data based on width of the screen for the carousel */\n  private _storeCarouselData(): void {\n    const breakpoints = this.inputs.gridBreakpoints;\n    this.deviceWidth = isPlatformBrowser(this.platformId) ? window.innerWidth : breakpoints.xl;\n\n    this.carouselWidth = this.carouselMain1.nativeElement.offsetWidth;\n\n    if (this.type === 'responsive') {\n      this.deviceType =\n        this.deviceWidth >= breakpoints.xl\n          ? 'xl'\n          : this.deviceWidth >= breakpoints.lg\n            ? 'lg'\n            : this.deviceWidth >= breakpoints.md\n              ? 'md'\n              : this.deviceWidth >= breakpoints.sm\n                ? 'sm'\n                : 'xs';\n\n      this.items = this.inputs.grid[this.deviceType];\n      this.itemWidth = this.carouselWidth / this.items;\n    } else {\n      this.items = Math.trunc(this.carouselWidth / this.inputs.grid.all);\n      this.itemWidth = this.inputs.grid.all;\n      this.deviceType = 'all';\n    }\n\n    this.slideItems = +(this.inputs.slide < this.items ? this.inputs.slide : this.items);\n    this.load = this.inputs.load >= this.slideItems ? this.inputs.load : this.slideItems;\n    this.speed = this.inputs.speed && this.inputs.speed > -1 ? this.inputs.speed : 400;\n    this._carouselPoint();\n  }\n\n  /** Used to reset the carousel */\n  public reset(withOutAnimation?: boolean): void {\n    withOutAnimation && (this.withAnim = false);\n    this.carouselCssNode.innerHTML = '';\n    this.moveTo(0);\n    this._carouselPoint();\n  }\n\n  /** Init carousel point */\n  private _carouselPoint(): void {\n    const Nos = this.dataSource.length - (this.items - this.slideItems);\n    this.pointIndex = Math.ceil(Nos / this.slideItems);\n    const pointers = [];\n\n    if (this.pointIndex > 1 || !this.inputs.point.hideOnSingleSlide) {\n      for (let i = 0; i < this.pointIndex; i++) {\n        pointers.push(i);\n      }\n    }\n    this.pointNumbers = pointers;\n\n    this._carouselPointActiver();\n    if (this.pointIndex <= 1) {\n      this._btnBoolean(1, 1);\n    } else {\n      if (this.currentSlide === 0 && !this.loop) {\n        this._btnBoolean(1, 0);\n      } else {\n        this._btnBoolean(0, 0);\n      }\n    }\n  }\n\n  /** change the active point in carousel */\n  private _carouselPointActiver(): void {\n    const i = Math.ceil(this.currentSlide / this.slideItems);\n    this.activePoint = i;\n    this.cdr.markForCheck();\n  }\n\n  /** this function is used to scoll the carousel when point is clicked */\n  public moveTo(slide: number, withOutAnimation?: boolean) {\n    // slide = slide - 1;\n    withOutAnimation && (this.withAnim = false);\n    if (this.activePoint !== slide && slide < this.pointIndex) {\n      let slideremains;\n      const btns = this.currentSlide < slide ? 1 : 0;\n\n      switch (slide) {\n        case 0:\n          this._btnBoolean(1, 0);\n          slideremains = slide * this.slideItems;\n          break;\n        case this.pointIndex - 1:\n          this._btnBoolean(0, 1);\n          slideremains = this.dataSource.length - this.items;\n          break;\n        default:\n          this._btnBoolean(0, 0);\n          slideremains = slide * this.slideItems;\n      }\n      this._carouselScrollTwo(btns, slideremains, this.speed);\n    }\n  }\n\n  /** set the style of the carousel based the inputs data */\n  private _carouselSize(): void {\n    this.token = this._generateID();\n    let dism = '';\n    this.styleid = `.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`;\n\n    if (this.inputs.custom === 'banner') {\n      this._renderer.addClass(this.carousel, 'banner');\n    }\n\n    if (this.inputs.animation === 'lazy') {\n      dism += `${this.styleid} > .item {transition: transform .6s ease;}`;\n    }\n\n    const breakpoints = this.inputs.gridBreakpoints;\n\n    let itemStyle = '';\n    if (this.vertical.enabled) {\n      const itemWidthXS = `${this.styleid} > .item {height: ${this.vertical.height /\n        +this.inputs.grid.xs}px}`;\n      const itemWidthSM = `${this.styleid} > .item {height: ${this.vertical.height /\n        +this.inputs.grid.sm}px}`;\n      const itemWidthMD = `${this.styleid} > .item {height: ${this.vertical.height /\n        +this.inputs.grid.md}px}`;\n      const itemWidthLG = `${this.styleid} > .item {height: ${this.vertical.height /\n        +this.inputs.grid.lg}px}`;\n      const itemWidthXL = `${this.styleid} > .item {height: ${this.vertical.height /\n          +this.inputs.grid.xl}px}`;\n\n      itemStyle = `@media (max-width:${breakpoints.sm - 1}px){${itemWidthXS}}\n                    @media (max-width:${breakpoints.sm}px){${itemWidthSM}}\n                    @media (min-width:${breakpoints.md}px){${itemWidthMD}}\n                    @media (min-width:${breakpoints.lg}px){${itemWidthLG}}\n                    @media (min-width:${breakpoints.xl}px){${itemWidthXL}}`;\n    } else if (this.type === 'responsive') {\n      const itemWidthXS =\n        this.inputs.type === 'mobile'\n          ? `${this.styleid} .item {flex: 0 0 ${95 / +this.inputs.grid.xs}%; width: ${95 /\n          +this.inputs.grid.xs}%;}`\n          : `${this.styleid} .item {flex: 0 0 ${100 / +this.inputs.grid.xs}%; width: ${100 /\n          +this.inputs.grid.xs}%;}`;\n\n      const itemWidthSM = `${this.styleid} > .item {flex: 0 0 ${100 /\n        +this.inputs.grid.sm}%; width: ${100 / +this.inputs.grid.sm}%}`;\n      const itemWidthMD = `${this.styleid} > .item {flex: 0 0 ${100 /\n        +this.inputs.grid.md}%; width: ${100 / +this.inputs.grid.md}%}`;\n      const itemWidthLG = `${this.styleid} > .item {flex: 0 0 ${100 /\n        +this.inputs.grid.lg}%; width: ${100 / +this.inputs.grid.lg}%}`;\n      const itemWidthXL = `${this.styleid} > .item {flex: 0 0 ${100 /\n        +this.inputs.grid.xl}%; width: ${100 / +this.inputs.grid.xl}%}`;\n\n      itemStyle = `@media (max-width:${breakpoints.sm-1}px){${itemWidthXS}}\n                    @media (min-width:${breakpoints.sm}px){${itemWidthSM}}\n                    @media (min-width:${breakpoints.md}px){${itemWidthMD}}\n                    @media (min-width:${breakpoints.lg}px){${itemWidthLG}}\n                    @media (min-width:${breakpoints.xl}px){${itemWidthXL}}`;\n    } else {\n      itemStyle = `${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`;\n    }\n\n    this._renderer.addClass(this.carousel, this.token);\n    if (this.vertical.enabled) {\n      this._renderer.addClass(this.nguItemsContainer.nativeElement, 'nguvertical');\n      this._renderer.setStyle(\n        this.carouselMain1.nativeElement,\n        'height',\n        `${this.vertical.height}px`\n      );\n    }\n\n    // tslint:disable-next-line:no-unused-expression\n    this.RTL && !this.vertical.enabled && this._renderer.addClass(this.carousel, 'ngurtl');\n    this._createStyleElem(`${dism} ${itemStyle}`);\n    this._storeCarouselData();\n  }\n\n  /** logic to scroll the carousel step 1 */\n  private _carouselScrollOne(Btn: number): void {\n    let itemSpeed = this.speed;\n    let translateXval = 0;\n    let currentSlide = 0;\n    const touchMove = Math.ceil(this.dexVal / this.itemWidth);\n    this._setStyle(this.nguItemsContainer.nativeElement, 'transform', '');\n\n    if (this.pointIndex === 1) {\n      return;\n    } else if (Btn === 0 && ((!this.loop && !this.isFirst) || this.loop)) {\n\n      const currentSlideD = this.currentSlide - this.slideItems;\n      const MoveSlide = currentSlideD + this.slideItems;\n      this._btnBoolean(0, 1);\n      if (this.currentSlide === 0) {\n        currentSlide = this.dataSource.length - this.items;\n        itemSpeed = 400;\n        this._btnBoolean(0, 1);\n      } else if (this.slideItems >= MoveSlide) {\n        currentSlide = translateXval = 0;\n        this._btnBoolean(1, 0);\n      } else {\n        this._btnBoolean(0, 0);\n        if (touchMove > this.slideItems) {\n          currentSlide = this.currentSlide - touchMove;\n          itemSpeed = 200;\n        } else {\n          currentSlide = this.currentSlide - this.slideItems;\n        }\n      }\n      this._carouselScrollTwo(Btn, currentSlide, itemSpeed);\n    } else if (Btn === 1 && ((!this.loop && !this.isLast) || this.loop)) {\n      if (\n        this.dataSource.length <= this.currentSlide + this.items + this.slideItems &&\n        !this.isLast\n      ) {\n        currentSlide = this.dataSource.length - this.items;\n        this._btnBoolean(0, 1);\n      } else if (this.isLast) {\n        currentSlide = translateXval = 0;\n        itemSpeed = 400;\n        this._btnBoolean(1, 0);\n      } else {\n        this._btnBoolean(0, 0);\n        if (touchMove > this.slideItems) {\n          currentSlide = this.currentSlide + this.slideItems + (touchMove - this.slideItems);\n          itemSpeed = 200;\n        } else {\n          currentSlide = this.currentSlide + this.slideItems;\n        }\n      }\n      this._carouselScrollTwo(Btn, currentSlide, itemSpeed);\n    }\n  }\n\n  /** logic to scroll the carousel step 2 */\n  private _carouselScrollTwo(Btn: number, currentSlide: number, itemSpeed: number): void {\n    // tslint:disable-next-line:no-unused-expression\n\n    if (this.dexVal !== 0) {\n      const val = Math.abs(this.touch.velocity);\n      let somt = Math.floor((this.dexVal / val / this.dexVal) * (this.deviceWidth - this.dexVal));\n      somt = somt > itemSpeed ? itemSpeed : somt;\n      itemSpeed = somt < 200 ? 200 : somt;\n      this.dexVal = 0;\n    }\n    if (this.withAnim) {\n      this._setStyle(\n        this.nguItemsContainer.nativeElement,\n        'transition',\n        `transform ${itemSpeed}ms ${this.inputs.easing}`\n      );\n      this.inputs.animation &&\n        this._carouselAnimator(\n          Btn,\n          currentSlide + 1,\n          currentSlide + this.items,\n          itemSpeed,\n          Math.abs(this.currentSlide - currentSlide)\n        );\n    } else {\n      this._setStyle(this.nguItemsContainer.nativeElement, 'transition', ``);\n    }\n\n    this.itemLength = this.dataSource.length;\n    this._transformStyle(currentSlide);\n    this.currentSlide = currentSlide;\n    this.onMove.emit(this);\n    this._carouselPointActiver();\n    this._carouselLoadTrigger();\n    this.withAnim = true;\n  }\n\n  /** boolean function for making isFirst and isLast */\n  private _btnBoolean(first: number, last: number) {\n    this.isFirst = !!first;\n    this.isLast = !!last;\n  }\n\n  private _transformString(grid: string, slide: number): string {\n    let collect = '';\n    collect += `${this.styleid} { transform: translate3d(`;\n\n    if (this.vertical.enabled) {\n      this.transform[grid] = (this.vertical.height / this.inputs.grid[grid]) * slide;\n      collect += `0, -${this.transform[grid]}px, 0`;\n    } else {\n      this.transform[grid] = (100 / this.inputs.grid[grid]) * slide;\n      collect += `${this.directionSym}${this.transform[grid]}%, 0, 0`;\n    }\n    collect += `); }`;\n    return collect;\n  }\n\n  /** set the transform style to scroll the carousel  */\n  private _transformStyle(slide: number): void {\n    let slideCss = '';\n    if (this.type === 'responsive') {\n      const breakpoints = this.inputs.gridBreakpoints;\n      slideCss = `@media (max-width: ${breakpoints.sm - 1}px) {${this._transformString('xs', slide)}}\n      @media (min-width: ${breakpoints.sm}px) {${this._transformString('sm', slide)} }\n      @media (min-width: ${breakpoints.md}px) {${this._transformString('md', slide)} }\n      @media (min-width: ${breakpoints.lg}px) {${this._transformString('lg', slide)} }\n      @media (min-width: ${breakpoints.xl}px) {${this._transformString('xl', slide)} }`;\n    } else {\n      this.transform.all = this.inputs.grid.all * slide;\n      slideCss = `${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;\n    }\n    this.carouselCssNode.textContent = slideCss;\n  }\n\n  /** this will trigger the carousel to load the items */\n  private _carouselLoadTrigger(): void {\n    if (typeof this.inputs.load === 'number') {\n      this.dataSource.length - this.load <= this.currentSlide + this.items &&\n        this.carouselLoad.emit(this.currentSlide);\n    }\n  }\n\n  /** generate Class for each carousel to set specific style */\n  private _generateID(): string {\n    let text = '';\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    for (let i = 0; i < 6; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return `ngucarousel${text}`;\n  }\n\n  /** handle the auto slide */\n  private _carouselInterval(): void {\n    const container = this.carouselMain1.nativeElement;\n    if (this.interval && this.loop) {\n      this.listener4 = this._renderer.listen('window', 'scroll', () => {\n        clearTimeout(this.onScrolling);\n        this.onScrolling = setTimeout(() => {\n          this._onWindowScrolling();\n        }, 600);\n      });\n\n      const play$ = fromEvent(container, 'mouseleave').pipe(mapTo(1));\n      const pause$ = fromEvent(container, 'mouseenter').pipe(mapTo(0));\n\n      const touchPlay$ = fromEvent(container, 'touchstart').pipe(mapTo(1));\n      const touchPause$ = fromEvent(container, 'touchend').pipe(mapTo(0));\n\n      const interval$ = interval(this.inputs.interval.timing).pipe(mapTo(1));\n\n      setTimeout(() => {\n        this.carouselInt = merge(play$, touchPlay$, pause$, touchPause$, this._intervalController$)\n          .pipe(\n            startWith(1),\n            switchMap(val => {\n              this.isHovered = !val;\n              this.cdr.markForCheck();\n              return val ? interval$ : EMPTY;\n            })\n          )\n          .subscribe(res => {\n            this._carouselScrollOne(1);\n          });\n      }, this.interval.initialDelay);\n    }\n  }\n\n  private _updateItemIndexContextAni() {\n    const viewContainer = this._nodeOutlet.viewContainer;\n    for (let renderIndex = 0, count = viewContainer.length; renderIndex < count; renderIndex++) {\n      const viewRef = viewContainer.get(renderIndex) as any;\n      const context = viewRef.context as any;\n      context.count = count;\n      context.first = renderIndex === 0;\n      context.last = renderIndex === count - 1;\n      context.even = renderIndex % 2 === 0;\n      context.odd = !context.even;\n      context.index = renderIndex;\n    }\n  }\n\n  /** animate the carousel items */\n  private _carouselAnimator(\n    direction: number,\n    start: number,\n    end: number,\n    speed: number,\n    length: number,\n    viewContainer = this._nodeOutlet.viewContainer\n  ): void {\n    let val = length < 5 ? length : 5;\n    val = val === 1 ? 3 : val;\n    const collectIndex = [];\n\n    if (direction === 1) {\n      for (let i = start - 1; i < end; i++) {\n        collectIndex.push(i);\n        val = val * 2;\n        const viewRef = viewContainer.get(i) as any;\n        const context = viewRef.context as any;\n        context.animate = { value: true, params: { distance: val } };\n      }\n    } else {\n      for (let i = end - 1; i >= start - 1; i--) {\n        collectIndex.push(i);\n        val = val * 2;\n        const viewRef = viewContainer.get(i) as any;\n        const context = viewRef.context as any;\n        context.animate = { value: true, params: { distance: -val } };\n      }\n    }\n    this.cdr.markForCheck();\n    setTimeout(() => {\n      this._removeAnimations(collectIndex);\n    }, speed * 0.7);\n  }\n\n  private _removeAnimations(indexs: number[]) {\n    const viewContainer = this._nodeOutlet.viewContainer;\n    indexs.forEach(i => {\n      const viewRef = viewContainer.get(i) as any;\n      const context = viewRef.context as any;\n      context.animate = { value: false, params: { distance: 0 } };\n    });\n    this.cdr.markForCheck();\n  }\n\n  /** Short form for setElementStyle */\n  private _setStyle(el: any, prop: any, val: any): void {\n    this._renderer.setStyle(el, prop, val);\n  }\n\n  /** For generating style tag */\n  private _createStyleElem(datas?: string) {\n    const styleItem = this._renderer.createElement('style');\n    if (datas) {\n      const styleText = this._renderer.createText(datas);\n      this._renderer.appendChild(styleItem, styleText);\n    }\n    this._renderer.appendChild(this.carousel, styleItem);\n    return styleItem;\n  }\n}\n","import { Component, HostBinding } from '@angular/core';\n\n@Component({\n  selector: 'ngu-item',\n  templateUrl: 'ngu-item.component.html',\n  styleUrls: ['ngu-item.component.scss']\n})\nexport class NguItemComponent {\n  @HostBinding('class.item') classes = true;\n}\n","import { Component, HostBinding } from '@angular/core';\n\n@Component({\n  selector: 'ngu-tile',\n  templateUrl: 'ngu-tile.component.html',\n  styleUrls: ['ngu-tile.component.scss']\n})\nexport class NguTileComponent {\n  @HostBinding('class.item') classes = true;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport {\n  NguCarouselDefDirective,\n  NguCarouselItemDirective,\n  NguCarouselNextDirective,\n  NguCarouselOutlet,\n  NguCarouselPointDirective,\n  NguCarouselPrevDirective\n} from './ngu-carousel.directive';\nimport { NguCarousel } from './ngu-carousel/ngu-carousel.component';\nimport { NguItemComponent } from './ngu-item/ngu-item.component';\nimport { NguTileComponent } from './ngu-tile/ngu-tile.component';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [\n    NguCarousel,\n    NguItemComponent,\n    NguTileComponent,\n    NguCarouselPointDirective,\n    NguCarouselItemDirective,\n    NguCarouselNextDirective,\n    NguCarouselPrevDirective,\n    NguCarouselDefDirective,\n    NguCarouselOutlet\n  ],\n  declarations: [\n    NguCarousel,\n    NguItemComponent,\n    NguTileComponent,\n    NguCarouselPointDirective,\n    NguCarouselItemDirective,\n    NguCarouselNextDirective,\n    NguCarouselPrevDirective,\n    NguCarouselDefDirective,\n    NguCarouselOutlet\n  ]\n})\nexport class NguCarouselModule { }\n"]}